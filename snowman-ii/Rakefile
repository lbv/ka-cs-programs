require 'rake/clean'

CLOBBER.include('snowman-ii.js')

task :default => 'snowman-ii.js'

@deps = [
	'../lib/util-colors.js',
	'../lib/heap.js',
	'../lib/timer.js',
	'../lib/particles.js',
	'../lib/canvas-wrapper.js',
	'../lib/keys-indicator.js',
	'snow.js',
	'snowman.js',
	'snowman-ii-main.js',
	'snowman-ii.m4'
]

file 'snowman-ii.js' => @deps do
	sh "m4 -I ../lib -P snowman-ii.m4 > snowman-ii.js"
end
