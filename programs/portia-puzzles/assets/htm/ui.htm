<div id="-frame">

  <div id="-state-intro" class="state">
    <div id="-intro-buttons">
      <div>
        <button class="button-intro" id="-button-intro">Intro</button>
      </div>
      <div>
        <button class="button-go" id="-button-go-warmup">Warm Up</button>
      </div>
      <div>
        <button class="button-go" id="-button-go-portia">Portia Puzzles</button>
      </div>
    </div>
    <div id="-intro" title="Introduction">
      <p>
        <em>The Portia Puzzles</em> are intended to test your
        reading comprehension and logical reasoning.
      </p>
      <p>
        You can start by visiting the <em>Warm–Up</em> area,
        if you want a little practice first. Once you feel
        ready, go ahead and tackle the main puzzles inside
        the <em>Portia Puzzles</em> area.
      </p>
      <p>
        As long as you read the puzzles carefully, and take
        your time to think before each answer, you should be
        able to solve them without much trouble. You could
        also solve them by “brute force”, but that probably
        would not be very gratifying. There may be a
        special ending if you solve all the puzzles without
        any wrong guesses.
      </p>
      <p>
        There are only a few levels available, and you have to
        solve them gradually —solving a puzzle unlocks the
        next one.
      </p>
      <p>Have fun!</p>
    </div>
  </div>

  <div id="-state-warmup" class="state">
    <div class="menu-title">
      Warm Up
    </div>
    <div class="menu-button-div">
      <div>
        <button class="menu-button" id="-button-warmup-1">Basics</button>
      </div>
      <div>
        <button class="menu-button" id="-button-warmup-2">Quantifiers</button>
      </div>
      <div>
        <button class="menu-button" id="-button-warmup-3">Logic</button>
      </div>
    </div>
    <div>
      <button class="button-back">Back</button>
    </div>
  </div>

  <div id="-state-warmup-1-story" class="state">
    <div class="story-title">
      Basics
    </div>
    <div class="warmup-story">
      <p>
        All the exercises presented in the Warm Up section
        were made with a simple purpose: to prepare you for
        the rest of the puzzles presented in this program
        —as well as any other puzzle you might encounter
        elsewhere.
      </p>
      <p>
        These exercises will not be “evaluated”. All that is
        expected from you is to read them attentively. In
        fact, the intention behind this first group of
        exercises is to increase your general awareness at
        the moment of <em>reading</em> a puzzle.
      </p>
      <p>
        By playing close attention to what every puzzle says,
        you will probably get the hang of it pretty quickly.
        There will be hints available in case you want them.
      </p>
    </div>
    <div>
      <button class="button-back">Back</button>
      <button class="button-continue">Continue</button>
    </div>
  </div>

  <div id="-state-warmup-1a" class="state">
    <div class="warmup-title">
      Read Carefully — 1 of 4
    </div>
    <div class="warmup-puzzle">
      <p>
        <strong>Banania</strong> and <strong>Catania</strong>
        are two (fictitious) countries, and they are
        geographically adjacent.
      </p>
      <p>
        One day, a plane crashes, right over the common border
        between Banania and Catania. In which country should
        the survivors be buried?
      </p>
      <button title="hint" class="button-hint" value="-hint-1a"></button>
    </div>
    <div class="warmup-hint" id="-hint-1a" title="Hint">
      <div>
        Maybe the <em>survivors</em> would not be happy
        about being buried alive?
      </div>
    </div>
    <div>
      <button class="button-back">Back</button>
      <button class="button-continue">Continue</button>
    </div>
  </div>

  <div id="-state-warmup-1b" class="state">
    <div class="warmup-title">
      Read Carefully — 2 of 4
    </div>
    <div class="warmup-puzzle">
      <p>
        42 years ago, what was the name of the Pope?
      </p>
      <button title="hint" class="button-hint" value="-hint-1b"></button>
    </div>
    <div class="warmup-hint" id="-hint-1b" title="Hint">
      <div>
        <p>
          Regardless of your knowledge of the history of
          Popes and their names, the question is, what Pope
          do you think this question is about? The Pope that
          was active 42 years ago, or the current Pope?
        </p>
        <p>
          In every–day conversation, it’s pretty natural for
          us to make certain assumptions according to the
          context. However, in a puzzle, very often a big
          part of the challenge is to consciously avoid
          making <em>any</em> assumptions.
        </p>
      </div>
    </div>
    <div>
      <button class="button-back">Back</button>
      <button class="button-continue">Continue</button>
    </div>
  </div>

  <div id="-state-warmup-1c" class="state">
    <div class="warmup-title">
      Read Carefully — 3 of 4
    </div>
    <div class="warmup-puzzle">
      <p>
        Two rabbits —one small and one big— are sunbathing by
        a pond. The small rabbit is the big one’s son, but the
        big one is not the small one’s dad. Why is that?
      </p>
      <button title="hint" class="button-hint" value="-hint-1c"></button>
    </div>
    <div class="warmup-hint" id="-hint-1c" title="Hint">
      <div>
        <p>
          This example illustrates the importance of
          considering the complete range of possibilities
          that a puzzle allows.
        </p>
        <p>
          All rabbits (as humans) have two parents: one is the
          father, and the other one… well, is not the father.
        </p>
      </div>
    </div>
    <div>
      <button class="button-back">Back</button>
      <button class="button-continue">Continue</button>
    </div>
  </div>

  <div id="-state-warmup-1d" class="state">
    <div class="warmup-title">
      Read Carefully — 4 of 4
    </div>
    <div class="warmup-puzzle">
      <p>
        To begin the construction of a tall building, a group
        of workers had to dig a cubic hole on the ground.
      </p>
      <p>
        If any of the sides on this cubic hole is 11 meters
        (<code>11m</code>) long, and one cubic centimeter of
        dirt weighs 2 grams
        (<code>1cm<sup>3</sup></code> is <code>2g</code>),
        what is the total weight of all the dirt in the hole?
      </p>
      <button title="hint" class="button-hint" value="-hint-1d"></button>
    </div>
    <div class="warmup-hint" id="-hint-1d" title="Hint">
      <div>
        <p>
          Sometimes a puzzle gives you unnecessary information,
          just to throw you off.
        </p>
        <p>
          What can you find <em>inside</em> a hole?
        </p>
      </div>
    </div>
    <div>
      <button class="button-back">Back</button>
      <button class="button-continue">Continue</button>
    </div>
  </div>

  <div id="-state-warmup-2-story" class="state">
    <div class="story-title">
      Quantifiers
    </div>
    <div class="warmup-story">
      <p>
        Now it’s time to brush up on the subject of
        <em>quantifiers</em>.
      </p>
      <p>
        It is important that you correctly understand the
        meaning of terms like “at least”, “at most”, “any”,
        etc.
      </p>
    </div>
    <div>
      <button class="button-back">Back</button>
      <button class="button-continue">Continue</button>
    </div>
  </div>

  <div id="-state-warmup-2a" class="state">
    <div class="warmup-title">
      Quantifiers — 1 of 3
    </div>
    <div class="warmup-puzzle">
      <p>
        If you have exactly three books…
      </p>
      <ul>
        <li>Do you have <em>more</em> than two?</li>
        <li>Do you have <em>more</em> than three?</li>
        <li>Do you have <em>less</em> than three?</li>
        <li>Do you have <em>less</em> than four?</li>
        <li>Do you have <em>any</em> books?</li>
        <li>Do you have <em>at least</em> one book?</li>
        <li>Do you have <em>at least</em> two books?</li>
      </ul>
      <button title="hint" class="button-hint" value="-hint-2a"></button>
    </div>
    <div class="warmup-hint" id="-hint-2a" title="Hint">
      <div>
        The answer for two of the questions is <strong>no</strong>.
        All the other answers are <strong>yes</strong>.
      </div>
    </div>
    <div>
      <button class="button-back">Back</button>
      <button class="button-continue">Continue</button>
    </div>
  </div>

  <div id="-state-warmup-2b" class="state">
    <div class="warmup-title">
      Quantifiers — 2 of 3
    </div>
    <div class="warmup-puzzle">
      <p>
        Given that you are a generous person, you lend two
        of your books to a friend, and now you’re left with
        only one book.
      </p>
      <ul>
        <li>Do you have <em>any</em> books?</li>
        <li>Do you have <em>at least</em> one book?</li>
        <li>Do you have <em>at most</em> five books?</li>
        <li>Do you have <em>more</em> books than before?</li>
      </ul>
      <button title="hint" class="button-hint" value="-hint-2b"></button>
    </div>
    <div class="warmup-hint" id="-hint-2b" title="Hint">
      <div>
        This time there is only one question for which the
        answer is <strong>no</strong>. Easy to spot, isn’t it?
      </div>
    </div>
    <div>
      <button class="button-back">Back</button>
      <button class="button-continue">Continue</button>
    </div>
  </div>

  <div id="-state-warmup-2c" class="state">
    <div class="warmup-title">
      Quantifiers — 3 of 3
    </div>
    <div class="warmup-puzzle">
      <ul>
        <li>
          <q>George has more than two thousand books</q>,
          said John.
        </li>
        <li>
          <q>That’s not true at all</q>, replied Paul,
          <q>he has a lot less</q>.
        </li>
        <li>
          <q>Well</q>, said Ringo in a conciliatory tone,
          <q>he does have some books</q>.
        </li>
      </ul>
      <p>
        If only one of the three sentences is true, how many
        books does George have?
      </p>
      <button title="hint" class="button-hint" value="-hint-2c"></button>
    </div>
    <div class="warmup-hint" id="-hint-2c" title="Hint">
      <div>
        <p>
          Finally, we’re moving into the land of <em>deductive
          reasoning</em>, which is one of the keys to solve
          many logic puzzles.
        </p>
        <p>
          If only one sentence is true, that means the other
          two are false. Try assuming that the first sentence
          is true, and see if all the conditions are consistent.
          If not, assume that the second sentence is true, and so
          on, until you reach a set of conditions that work. Can
          you deduce the correct number of books then?
        </p>
      </div>
    </div>
    <div>
      <button class="button-back">Back</button>
      <button class="button-continue">Continue</button>
    </div>
  </div>

  <div id="-state-warmup-3-story" class="state">
    <div class="story-title">
      Logic
    </div>
    <div class="warmup-story">
      <p>
        Now that we’ve covered some of the basics of how to
        <em>read</em> a puzzle, let us briefly touch upon
        the subject of deductive reasoning.
      </p>
      <p>
        The last exercise from the previous section was an
        example of this. Hopefully you found the answer
        without too much effort. Some people find it easier
        to solve this type of problems by drawing doodles
        and diagrams on a piece of paper to help them along
        the way.
      </p>
      <p>
        A useful observation is that, with enough
        patience, you can always solve logic puzzles by
        “trial and error”. Assign <em>truth values</em> to each piece of
        information; that is, take each statement or
        <em>clause</em> in the puzzle and assume that it is
        either <strong>true</strong> or <strong>false</strong>.
        Try all combinations you can think of, and eventually
        you should come across one that produces a
        <em>valid</em> state: a situation in which all the
        premises given in the puzzle and the assumptions you
        make are consistent with each other.
      </p>
      <p>
        How about a little practice with a few other 
        examples of basic logic puzzles?
      </p>
    </div>
    <div>
      <button class="button-back">Back</button>
      <button class="button-continue">Continue</button>
    </div>
  </div>

  <div id="-state-warmup-3a" class="state">
    <div class="warmup-title">
      Logical Reasoning — 1 of 3
    </div>
    <div class="warmup-puzzle">
      <p>
        Magda comes home from the supermarket to find her
        two sons, Anthony and Billy, who have been impatiently
        waiting for her.
      </p>
      <p>
        — <q>I’m hungry</q>, says Anthony.
      </p>
      <p>
        — <q>I’m thirsty</q>, says Billy.
      </p>
      <p>
        Magda takes out a bag of potato chips and a juice box,
        when suddenly her motherly intuition (which is never
        wrong) tells her that at least one of her sons is
        lying.
      </p>
      <p>
        Nonetheless, Magda decides to give them the goods
        anyway. Who should get the chips, and who should get
        the juice?
      </p>
      <button title="hint" class="button-hint" value="-hint-3a"></button>
    </div>
    <div class="warmup-hint" id="-hint-3a" title="Hint">
      <div>
        <p>
          Consider the consequences of each statement being
          either true or false.
        </p>
        <p>
          When you say that you are hungry, and are telling
          a lie, does that <em>imply</em> that you are
          thirsty?
        </p>
      </div>
    </div>
    <div>
      <button class="button-back">Back</button>
      <button class="button-continue">Continue</button>
    </div>
  </div>

  <div id="-state-warmup-3b" class="state">
    <div class="warmup-title">
      Logical Reasoning — 2 of 3
    </div>
    <div class="warmup-puzzle">
      <p>
        You are introduced to a couple of girls, named Mary
        and Jane. You have never met them before, and you
        notice right away that one of them has blonde hair
        and the other one is brunette.
      </p>
      <p>
        — <q>Hi, I’m Mary</q>, says the blonde.
      </p>
      <p>
        — <q>And I’m Jane</q>, says the brunette.
      </p>
      <p>
        Judging by a subtle grin you notice in their faces,
        you’re absolutely sure that at least one of them
        has lied.
      </p>
      <p>
        What’s the name of the blonde? What’s the name of the
        brunette?
      </p>
      <button title="hint" class="button-hint" value="-hint-3b"></button>
    </div>
    <div class="warmup-hint" id="-hint-3b" title="Hint">
      <div>
        <p>
          This one is fairly straightforward once you start
          from any assumption about who could be lying.
        </p>
        <p>
          There are only two girls. Is it possible that
          one of them lies while the other one remains true
          about their names?
        </p>
      </div>
    </div>
    <div>
      <button class="button-back">Back</button>
      <button class="button-continue">Continue</button>
    </div>
  </div>

  <div id="-state-warmup-3c" class="state">
    <div class="warmup-title">
      Logical Reasoning — 3 of 3
    </div>
    <div class="warmup-puzzle">
      <p>
        Here’s a situation that would be quite atypical in
        real life, but is very common in puzzles:
      </p>
      <p>
        Two men are behind a semi–transparent screen, such
        that you can only see their silhouettes. You know
        that one of them has blue eyes, and the other one
        has green eyes. You also know that the person with
        blue eyes always tells the truth, while the person
        with green eyes always says lies.
      </p>
      <p>
        You get the chance to ask two questions, in order to
        identify them. You start by asking the person to
        your left: <q>what color are you eyes?</q>
      </p>
      <p>
        He replies, but unfortunately a cell phone near you
        rings loudly right at that moment, and you can’t
        hear his answer.
      </p>
      <p>
        With a bit of frustation, you know that you have
        only one question left, so you ask the second person
        (the man on the right): <q>what did the first
        person say?</q> The second person answers:
        <q>he said that his eyes are blue</q>.
      </p>
      <p>
        Your task now is, as you can imagine: identify who
        has blue eyes, and who has green eyes.
      </p>
      <button title="hint" class="button-hint" value="-hint-3c"></button>
    </div>
    <div class="warmup-hint" id="-hint-3c" title="Hint">
      <div>
        <p>
          There are no more hints available…
        </p>
        <p>
          You have made it this far, you can solve this
          without any help. I know it!
        </p>
      </div>
    </div>
    <div>
      <button class="button-back">Back</button>
      <button class="button-continue">Continue</button>
    </div>
  </div>

  <div id="-state-warmup-end" class="state">
    <div class="story-title">
      Good Job
    </div>
    <div class="warmup-story">
      <p>
        You are done with the warm–up. Hopefully you have
        learned a thing or two that could help you later on.
      </p>
      <p>
        Best of luck!
      </p>
    </div>
    <div>
      <button class="button-continue">Continue</button>
    </div>
  </div>

  <div id="-state-menu" class="state">
    <div class="menu-title">
      Portia Puzzles
    </div>
    <div class="menu-button-div">
      <div>
        <button class="menu-button" id="-button-portia-1">Portia I</button>
      </div>
      <div>
        <button class="menu-button" id="-button-portia-2">Portia II</button>
      </div>
      <div>
        <button class="menu-button" id="-button-portia-3">Portia III</button>
      </div>
    </div>
    <div>
      <button class="button-back" id="-button-back-menu">Back</button>
    </div>
  </div>

  <div id="-state-menu-1" class="state">
    <div class="menu-title">
      Portia Puzzles — Portia I
    </div>
    <div class="menu-button-div">
      <div>
        <button class="menu-button" id="-button-portia-1-1">The Original Portia</button>
      </div>
      <div>
        <button class="menu-button" id="-button-portia-1-2">Portia Returns</button>
      </div>
    </div>
    <div>
      <button class="button-back">Back</button>
    </div>
  </div>

  <div id="-state-portia-1-1-story" class="state">
    <div class="story-title">
      The Original Portia
    </div>
    <div class="backstory">
      <p>
        One of the characters in the story of <em>The
        Merchant of Venice</em>, by William Shakespeare, is
        a beautiful and sagacious young woman named Portia.
        She is about to get married, and she devises an
        ingenious plan to choose her husband.
      </p>
      <p>
        Portia has three caskets, one made of gold, one of
        silver and one of lead. She hides away a portrait of
        her in one of the caskets, and asks her potential
        suitors to find it. He who chooses the casket with
        Portia’s portrait, wins the right to marry her.
      </p>
      <p>
        Since Portia wants to choose a husband because of his
        virtue and intelligence, and not so much because of
        his luck, she puts certain inscriptions on the
        caskets, providing useful clues to someone astute
        enough to understand them.
      </p>
      <p>
        Now it’s your chance to face Portia’s challenge…
        Follow the clues and find the casket with her
        portrait.
      </p>
    </div>
    <div>
      <button class="button-back">Back</button>
      <button class="button-continue">Continue</button>
    </div>
  </div>

  <div id="-state-portia-1-1-main" class="state">
    <div class="room-info">
      <h1>Portia I</h1>
      <h2>The Original</h2>
      <p>
        One, and only one statement is true.
      </p>
    </div>
    <div class="caskets">
      <div class="gold">
        The portrait is in this casket
      </div>
      <div class="silver">
        The portrait is not in this casket
      </div>
      <div class="lead">
        The portrait is not in the gold casket
      </div>
    </div>
    <div class="question">
      What casket has the portrait?
    </div>
    <div class="casket-buttons">
      <button class="button-gold" value="0">Gold</button>
      <button class="button-silver" value="1">Silver</button>
      <button class="button-lead" value="2">Lead</button>
    </div>
    <button class="button-small-back" title="Go back"></button>
  </div>

  <div id="-state-portia-1-2-story" class="state">
    <div class="story-title">
      Portia Returns
    </div>
    <div class="backstory">
      <p>
        One of Portia's suitors eventually solved her puzzle,
        and they set a date for the wedding.
      </p>
      <p>
        However, in the back of Portia's mind, she kept
        thinking that maybe her original puzzle was too easy.
        That, if only she had put a little more effort into
        creating a better challenge, she could have ended up
        with a better husband.
      </p>
      <p>
        So she managed to secretly create new caskets for a
        new puzzle, and continued receiving new suitors.
      <p>
        Her new plan was that, if someone did show up who could
        solve her new puzzle, she would just think of an
        excuse to get out of her previous engagement, and
        marry the better prospect.
      </p>
    </div>
    <div>
      <button class="button-back">Back</button>
      <button class="button-continue">Continue</button>
    </div>
  </div>

  <div id="-state-portia-1-2-main" class="state">
    <div class="room-info">
      <h1>Portia I</h1>
      <h2>Portia Returns</h2>
      <p>
        At least one statement is true. At least one
        statement is false.
      </p>
    </div>
    <div class="caskets">
      <div class="gold">
        The portrait is not in the silver casket
      </div>
      <div class="silver">
        The portrait is not in this casket
      </div>
      <div class="lead">
        The portrait is in this casket
      </div>
    </div>
    <div class="question">
      What casket has the portrait?
    </div>
    <div class="casket-buttons">
      <button class="button-gold" value="0">Gold</button>
      <button class="button-silver" value="1">Silver</button>
      <button class="button-lead" value="2">Lead</button>
    </div>
    <button class="button-small-back" title="Go back"></button>
  </div>

  <div id="-state-portia-1-epilogue" class="state">
    <div class="story-title">
      Portia I — Epilogue
    </div>
    <div class="backstory">
      <p>
        Among the suitors that applied for Portia's new
        challenge, there was a mysterious masked man. When it
        was his turn, he went in and solved the puzzle
        almost immediately.
      </p>
      <p>
        He removed the mask and... oh, surprise! he was
        Portia's fiance. Not only was he sagacious enough to
        discover Portia's secret plans, but also decided to
        surprise her by solving her second puzzle as well.
      </p>
      <p>
        Portia decided to never doubt her fiance's virtues
        again. They got married and lived happily ever after.
      </p>
    </div>
    <div>
      <button class="button-continue">Continue</button>
    </div>
  </div>

  <div id="-state-menu-2" class="state">
    <div class="menu-title">
      Portia Puzzles — Portia II
    </div>
    <div class="menu-button-div">
      <div>
        <button class="menu-button" id="-button-portia-2-1">The First Test</button>
      </div>
      <div>
        <button class="menu-button" id="-button-portia-2-2">The Second Test</button>
      </div>
    </div>
    <div>
      <button class="button-back">Back</button>
    </div>
  </div>

  <div id="-state-portia-2-1-story" class="state">
    <div class="menu-title">
      Portia II — The First Test
    </div>
    <div class="backstory">
      <p>
        Portia and her husband had a beautiful daughter, who
        was named Portia II, but we'll simply call her
        Portia.
      </p>
      <p>
        She grew up to be a clever and breathtaking young
        woman, just like her mother. The apple doesn’t fall
        far from the tree, as they say, and Portia decided
        to choose her husband using a method very
        similar to the one used by her mother.
      </p>
      <p>
        However, she decided that her suitors had to go
        through two tests, and she inscribed two statements
        on each casket.
      </p>
    </div>
    <div>
      <button class="button-back">Back</button>
      <button class="button-continue">Continue</button>
    </div>
  </div>

  <div id="-state-portia-2-1-main" class="state">
    <div class="room-info">
      <h1>Portia II</h1>
      <h2>The First Test</h2>
      <p>
        There is never more than one falsehood on each
        casket.
      </p>
    </div>
    <div class="caskets">
      <div class="gold">
        <ol>
          <li>The portrait is not here</li>
          <li>The portrait's painter is venetian</li>
        </ol>
      </div>
      <div class="silver">
        <ol>
          <li>The portrait is not in the gold casket</li>
          <li>The portrait is in the lead casket</li>
        </ol>
      </div>
      <div class="lead">
        <ol>
          <li>The portrait is not here</li>
          <li>The portrait is in the gold casket</li>
        </ol>
      </div>
    </div>
    <div class="question">
      What casket has the portrait?
    </div>
    <div class="casket-buttons">
      <button class="button-gold" value="0">Gold</button>
      <button class="button-silver" value="1">Silver</button>
      <button class="button-lead" value="2">Lead</button>
    </div>
    <button class="button-small-back" title="Go back"></button>
  </div>

  <div id="-state-portia-2-2-story" class="state">
    <div class="menu-title">
      Portia II — The Second Test
    </div>
    <div class="backstory">
      <p>
        If the suitor solved Portia’s first puzzle correctly,
        he was presented with a new set of three caskets, each
        one with two statements inscribed on them.
      </p>
      <p>
        Yeah, I know… you might be asking yourself “where do
        all these caskets come from?”. Actually, Portia's family
        had a really good deal with a manufacturer, so they
        could get as many as they wanted at a pretty cheap
        price.
      </p>
    </div>
    <div>
      <button class="button-back">Back</button>
      <button class="button-continue">Continue</button>
    </div>
  </div>

  <div id="-state-portia-2-2-main" class="state">
    <div class="room-info">
      <h1>Portia II</h1>
      <h2>The Second Test</h2>
      <p>
        In one of the caskets, both statements are true. In
        one of the caskets, both statemens are false. In one
        of the caskets, one is true and one is false.
      </p>
    </div>
    <div class="caskets">
      <div class="gold">
        <ol>
          <li>The portrait is not here</li>
          <li>The portrait is in the silver casket</li>
        </ol>
      </div>
      <div class="silver">
        <ol>
          <li>The portrait is not in the gold casket</li>
          <li>The portrait is in the lead casket</li>
        </ol>
      </div>
      <div class="lead">
        <ol>
          <li>The portrait is not here</li>
          <li>The portrait is in the gold casket</li>
        </ol>
      </div>
    </div>
    <div class="question">
      What casket has the portrait?
    </div>
    <div class="casket-buttons">
      <button class="button-gold" value="0">Gold</button>
      <button class="button-silver" value="1">Silver</button>
      <button class="button-lead" value="2">Lead</button>
    </div>
    <button class="button-small-back" title="Go back"></button>
  </div>

  <div id="-state-menu-3" class="state">
    <div class="menu-title">
      Portia Puzzles — Portia III
    </div>
    <div class="menu-button-div">
      <div>
        <button class="menu-button" id="-button-portia-3-1">The First Test</button>
      </div>
      <div>
        <button class="menu-button" id="-button-portia-3-2">The Second Test</button>
      </div>
      <div>
        <button class="menu-button" id="-button-portia-3-3">The Third Test</button>
      </div>
    </div>
    <div>
      <button class="button-back">Back</button>
    </div>
  </div>

  <div id="-state-portia-3-1-story" class="state">
    <div class="menu-title">
      Portia III — The First Test
    </div>
    <div class="backstory">
      <p>
        Portia II found a bright, handsome husband, and they
        had a beautiful daughter. They named her, well… I
        think you know where this is going.
      </p>
      <p>
        Yes, her name was <em>Portia III</em>, but we'll
        simply call her <strong>Portia</strong>. Now, it
        might be a genetic trait, but when Portia reached
        the age to get married, she decided to choose her
        husband using caskets. Sounds familiar?
      </p>
      <p>
        However, young Portia decided to implement her own
        twist to the challenge. For one thing, she decided
        to use just one statement per casket, just as her
        grandmother. She also told her suitors that every
        casket was hand–made by one of Venice’s two most
        famous sculptors: either <strong>Cellini</strong> or
        <strong>Bellini</strong>.
      </p>
      <p>
        Everyone in Venice knew that Cellini always wrote
        false inscriptions on the caskets he made, and
        Bellini always wrote true inscriptions.
      </p>
      <p>
        She also decided to make <em>three</em> tests for
        her suitors. The first one had a special peculiarity:
        The probability of solving it by random chance is two
        thirds.
      </p>
      <p>
        This is because she didn’t hide a portrait in one of
        the caskets, but a dagger. To pass this test, the
        suitor has to choose one of the <em>empty</em>
        caskets, avoiding the dagger.
      </p>
    </div>
    <div>
      <button class="button-back">Back</button>
      <button class="button-continue">Continue</button>
    </div>
  </div>

  <div id="-state-portia-3-1-main" class="state">
    <div class="room-info">
      <h1>Portia III</h1>
      <h2>The First Test</h2>
      <p>
        Each of the caskets was made by either <em>Cellini</em>
        or <em>Bellini</em>.
      </p>
    </div>
    <div class="caskets">
      <div class="gold">
        The dagger is in this casket
      </div>
      <div class="silver">
        This casket is empty
      </div>
      <div class="lead">
        Bellini made no more than one of these caskets
      </div>
    </div>
    <div class="question">
      Choose a casket… but not the one with the dagger!
    </div>
    <div class="casket-buttons">
      <button class="button-gold" value="0">Gold</button>
      <button class="button-silver" value="1">Silver</button>
      <button class="button-lead" value="2">Lead</button>
    </div>
    <button class="button-small-back" title="Go back"></button>
  </div>

  <div id="-state-portia-3-2-story" class="state">
    <div class="menu-title">
      Portia III — The Second Test
    </div>
    <div class="backstory">
      <p>
        For the second test, Portia decided to use only two
        caskets, so the probability of guessing correctly at
        random is one half.
      </p>
      <p>
        She also goes back to putting her portrait in one of
        the caskets, and gets rid of the dagger. The caskets
        are still made by either Cellini or Bellini, and the
        suitor has to find the location of Portia's portrait.
      </p>
      <p>
        Remember, Cellini’s inscriptions are always false,
        while Bellini’s inscriptions are always true.
      </p>
    </div>
    <div>
      <button class="button-back">Back</button>
      <button class="button-continue">Continue</button>
    </div>
  </div>
  
  <div id="-state-portia-3-2-main" class="state">
    <div class="room-info">
      <h1>Portia III</h1>
      <h2>The Second Test</h2>
      <p>
        Each of the caskets was made by either <em>Cellini</em>
        or <em>Bellini</em>.
      </p>
    </div>
    <div class="caskets">
      <div class="gold">
        The portrait is not in this casket
      </div>
      <div class="silver">
        One, and only one of these caskets was made by
        Bellini
      </div>
    </div>
    <div class="question">
      What casket has the portrait?
    </div>
    <div class="casket-buttons">
      <button class="button-gold" value="0">Gold</button>
      <button class="button-silver" value="1">Silver</button>
    </div>
    <button class="button-small-back" title="Go back"></button>
  </div>

  <div id="-state-portia-3-3-story" class="state">
    <div class="menu-title">
      Portia III — The Third Test
    </div>
    <div class="backstory">
      <p>
        If Portia’s suitor managed to solve the previous two
        puzzles —you see, Portia was <em>really</em>
        beautiful—, he was taken to a new room where he was
        presented with the third and final test.
      </p>
      <p>
        This test has three caskets again, and they were made
        by Cellini or Bellini, as usual. However, the suitor
        now has to not only find the correct location of the
        portrait, but also has to identify the sculptor who
        made each casket.
      </p>
      <p>
        Are you ready for Portia’s final test?
      </p>
    </div>
    <div>
      <button class="button-back">Back</button>
      <button class="button-continue">Continue</button>
    </div>
  </div>

  <div id="-state-portia-3-3-main" class="state">
    <div class="room-info">
      <h1>Portia III</h1>
      <h2>The Third Test</h2>
      <p>
        Each of the caskets was made by either <em>Cellini</em>
        or <em>Bellini</em>.
      </p>
    </div>
    <div class="caskets">
      <div class="gold">
        The portrait is in this casket
      </div>
      <div class="silver">
        The portrait is in this casket
      </div>
      <div class="lead">
        Cellini made at least two of the three caskets
      </div>
    </div>
    <div class="question-long">
      Choose the casket with the portrait<br/>
      Select the sculptor that made each casket
    </div>
    <div class="casket-options">
      <label class="radio-gold"><input
      type="radio" name="casket" value="0"/> Gold</label>
      <label class="radio-silver"><input
      type="radio" name="casket" value="1"/> Silver</label>
      <label class="radio-lead"><input
      type="radio" name="casket" value="2"/> Lead</label>

      <select name="maker0" class="select-gold">
        <option value="none">Gold sculptor:</option>
        <option value="false">Cellini</option>
        <option value="true">Bellini</option>
      </select>
      <select name="maker1" class="select-silver">
        <option value="none">Silver sculptor:</option>
        <option value="false">Cellini</option>
        <option value="true">Bellini</option>
      </select>
      <select name="maker2" class="select-lead">
        <option value="none">Lead sculptor:</option>
        <option value="false">Cellini</option>
        <option value="true">Bellini</option>
      </select>
      <button class="button-submit">Submit</button>
    </div>
    <button class="button-small-back" title="Go back"></button>
  </div>

  <div id="-state-portia-end" class="state">
    <div class="menu-title">
      Portia Puzzles — The End
    </div>
    <div class="backstory">
      <p>
        Congratulations! You have solved all of the
        <em>Portia Puzzles</em>.
      </p>
      <p>
        Did you find them fun? Have you considered making
        your own puzzles? Give it a try, and if you want
        to share them, you're welcome to post your
        suggestions under the <em>Tips &amp; Feedback</em>
        section.
      </p>
      <p>
        Have fun!
      </p>
    </div>
    <div>
      <button class="button-continue">Continue</button>
    </div>
  </div>

  <div id="-state-portia-end-special" class="state">
    <div>
      <button class="button-continue">Continue</button>
    </div>
  </div>

  <div class="guess-bad" id="-guess-wrong" title="Sorry..">
    The portrait is not in that casket. Try again.
  </div>
  <div class="guess-good" id="-guess-correct" title="Correct!">
    Well done. You have found Portia's portrait.
  </div>

  <div class="guess-bad" id="-guess-dagger-wrong" title="Sorry..">
    <p>
      Oops… By chance, you have chosen the casket with the
      dagger in it!
    </p>
    <p>
      Try again.
    </p>
  </div>
  <div class="guess-good" id="-guess-dagger-correct" title="Correct!">
    Very good. You have dodged the dagger…
  </div>

  <div class="guess-bad" id="-guess-final-wrong" title="Sorry..">
    Something is not quite right… Try again.
  </div>
  <div class="guess-good" id="-guess-final-correct" title="Correct!">
    Fantastic. You have found the portrait, and deduced the
    names of the sculptors correctly.
  </div>

  <div id="-special-ending" title="Well done!">
    You solved all the puzzles from the <em>Portia
    Puzzles</em> without making a single mistake.
  </div>

</div>
